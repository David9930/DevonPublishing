<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Author Bio | Devon Publishing Llc</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/author-bio2.css">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;700&family=Special+Elite&display=swap" rel="stylesheet">
    <!-- Tilt.js for 3D effect -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.2/vanilla-tilt.min.js"></script>
    <style>
        /* Sound button styling */
        .enable-sound-button {
            position: fixed;
            top: 150px;
            right: 20px;
            background-color: #e74c3c;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            font-family: 'Special Elite', monospace;
            cursor: pointer;
            z-index: 2000;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .enable-sound-button:hover {
            background-color: #c0392b;
        }
        
        /* Passive notification */
        .passive-notification {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 10px 20px;
            border-radius: 5px;
            font-family: 'Special Elite', monospace;
            z-index: 2000;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
            display: none;
            opacity: 0;
            transition: opacity 0.5s ease;
        }
        
        .passive-notification.visible {
            display: block;
            opacity: 1;
        }
        
        /* Touch interaction overlay - invisible but captures touch for mobile */
        .touch-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: transparent;
            z-index: 1; /* Low z-index so other interactions still work */
            display: block;
        }
    </style>
</head>
<body>
    <header class="site-header">
        <div class="container">
            <div class="header-content">
                <div class="site-branding">
                    <a href="index.html">Devon Publishing LLC</a>
                </div>
                <nav class="main-navigation">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="where-to-buy.html">Where To Buy</a></li>
                        <li><a href="bookbio.html">Book Bio</a></li>
                        <li><a href="author-bio2.html" class="active">Bio</a></li>
                        <li><a href="#">Contact</a></li>
                        <li><a href="#">Blog</a></li>
                    </ul>
                </nav>
                <div class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
            </div>
        </div>
    </header>
    
    <!-- Invisible touch overlay to capture passive interaction -->
    <div id="touch-overlay" class="touch-overlay"></div>
    
    <!-- Self-destruct timer -->
    <div class="self-destruct-timer">
        <div class="timer-label">FILE SELF-DESTRUCTION:</div>
        <div class="countdown" id="countdown">00:45</div>
    </div>

    <!-- Prominent enable sound button -->
    <button id="enable-sound-button" class="enable-sound-button">
        <i class="fas fa-volume-up"></i> Enable Countdown Beeps
    </button>

    <!-- Passive trigger notification -->
    <div class="passive-notification" id="passive-notification">
        <i class="fas fa-volume-up"></i> Interaction detected - Beeps enabled!
    </div>

    <!-- Self-destruct message overlay -->
    <div class="self-destruct-overlay" id="self-destruct-overlay">
        <div class="self-destruct-message">
            <h2>THIS FILE HAS BEEN DESTROYED</h2>
            <p>You want to know more?</p>
            <p>You will have to buy the book!</p>
            <a href="where-to-buy.html" class="cta-button">Buy Now <i class="fas fa-arrow-right"></i></a>
            <button id="restart-button" class="restart-button">
                <i class="fas fa-redo-alt"></i> Restart File
            </button>
        </div>
    </div>
    
    <main class="main-content">
        <section class="author-hero">
            <div class="container">
                <h1 class="typewriter">About the Author</h1>
            </div>
        </section>
        
        <section class="author-profile">
            <div class="container">
                <div class="profile-card" data-tilt data-tilt-max="5" data-tilt-speed="400" data-tilt-perspective="1000">
                    <div class="profile-header">
                        <div class="profile-img-wrapper">
                            <img src="images/iAuthorPhoto.jpg" alt="Author Photo" class="profile-image">
                            <div class="profile-badge">
                                <i class="fas fa-pen-fancy"></i>
                                <span>Potential Author in Training</span>
                            </div>
                        </div>
                        <div class="profile-stamp">CLASSIFIED</div>
                    </div>
                    
                    <div class="profile-content">
                        <div class="disclaimer">
                            <i class="fas fa-exclamation-triangle"></i>
                            <p>The following is a work of fiction... or is it?</p>
                        </div>
                        
                        <div class="redacted-text">
                            <p>I find it somewhat humorous that I would ever have to contemplate referring to myself as "An Author." Since this is my first attempt, let's just refer to me as a <span class="highlight">"Potential Author in Training."</span> Ultimately, you the reader will determine that title (Pun Intended) simply by the success or failure of the book (by way of sales).</p>
                            
                            <p>Books I purchase usually reserve the back cover for the self-promotion of the author. Since I am not yet one, I will use the back cover in a different and hopefully more entertaining way. As far as posting a photo of me, I think I will continue to use my alter ego's picture for now. After all, when an author in their 'work of fiction' book includes <span class="redacted">whacking a few current living world figures</span>â€¦.. let's just say it's a little bit of a self-preservation issue as well. <span class="highlight">Who needs a dose of Novichok at my age!</span></p>
                            
                            <p>What I can tell you; I grew up in the fictional town I called <span class="redacted">Sherman Falls</span>. Some people will easily figure out the actual name of my hometown, but I had to alter the name for legal reasons (That could be a whole book on its own).</p>
                            
                            <p>While it is a work of fiction, I did use many of my actual life experiences throughout the book as a framework for the fictional story and fictional characters. I am sure there will be a few readers who may claim they recall being at the Collins with me, went to school with me, played hockey with me or they are the real <span class="redacted">Tina</span> or <span class="redacted">Maureen</span>. It was very important to provide anonymity to anyone that I chose to include in my story by way of a fictional character and I hope you're not offended by the name(s) I assigned.</p>
                        </div>
                        
                        <div class="author-dossier">
                            <h3><i class="fas fa-folder"></i> Author Dossier</h3>
                            <div class="dossier-content">
                                <div class="dossier-item">
                                    <span class="label">Alias:</span>
                                    <span class="value">Derek Devon</span>
                                </div>
                                <div class="dossier-item">
                                    <span class="label">Status:</span>
                                    <span class="value">Potential Author in Training</span>
                                </div>
                                <div class="dossier-item">
                                    <span class="label">Known Locations:</span>
                                    <span class="value">[REDACTED], formerly known as Sherman Falls</span>
                                </div>
                                <div class="dossier-item">
                                    <span class="label">Special Abilities:</span>
                                    <span class="value">Time travel, Hockey, Avoiding Novichok</span>
                                </div>
                                <div class="dossier-item">
                                    <span class="label">Current Mission:</span>
                                    <span class="value">Guiding Rebecca through letters</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="secret-message" id="secret-message">
                            <div class="message-content">
                                <h3><i class="fas fa-lock"></i> Classified Information</h3>
                                <p>For the curious readers who found this hidden message:</p>
                                <p>The author may or may not have actual time-traveling abilities. The contents of this book could be more factual than fictional. Remember, "Changes have consequences and consequences make change."</p>
                                <p>Keep this information confidential. You never know who might be watching.</p>
                                <p class="signature">~ D.D.</p>
                            </div>
                        </div>
                        
                        <div class="file-stamp">
                            <span>FILE END</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="author-notes">
            <div class="container">
                <div class="notes-card">
                    <h2>Author's Notes</h2>
                    <div class="notes-content">
                        <div class="note" data-tilt data-tilt-max="5">
                            <div class="note-header">
                                <i class="fas fa-thumbtack"></i>
                            </div>
                            <div class="note-body">
                                <p>To my readers - thank you for taking this journey with me. Your support determines if I'm an "author" or just someone who wrote a book.</p>
                            </div>
                        </div>
                        
                        <div class="note" data-tilt data-tilt-max="5">
                            <div class="note-header">
                                <i class="fas fa-thumbtack"></i>
                            </div>
                            <div class="note-body">
                                <p>If you're from Sherman Falls and think you recognize yourself in the story - maybe you do, maybe you don't. That's the beauty of fiction!</p>
                            </div>
                        </div>
                        
                        <div class="note" data-tilt data-tilt-max="5">
                            <div class="note-header">
                                <i class="fas fa-thumbtack"></i>
                            </div>
                            <div class="note-body">
                                <p>Remember: 12757982... or is it now 13225476082? Some numbers are worth remembering.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer class="site-footer">
        <div class="container">
            <p>&copy; 2023 by Devon Publishing. All rights reserved.</p>
        </div>
    </footer>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Initialize tilt effect
        VanillaTilt.init(document.querySelectorAll("[data-tilt]"));
        
        // Mobile menu toggle
        const menuToggle = document.querySelector('.mobile-menu-toggle');
        const mainNav = document.querySelector('.main-navigation');
        
        menuToggle.addEventListener('click', () => {
            mainNav.classList.toggle('active');
        });
        
        // Typewriter effect
        const typewriterText = document.querySelector('.typewriter');
        const text = typewriterText.textContent;
        typewriterText.textContent = '';
        
        let i = 0;
        function typeWriter() {
            if (i < text.length) {
                typewriterText.textContent += text.charAt(i);
                i++;
                setTimeout(typeWriter, 100);
            }
        }
        
        setTimeout(typeWriter, 500);
        
        // Secret message functionality
        const redactedTexts = document.querySelectorAll('.redacted');
        
        redactedTexts.forEach(text => {
            text.addEventListener('click', () => {
                text.classList.toggle('revealed');
            });
        });
        
        // Easter egg - reveal secret message on konami code
        let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiPosition = 0;
        
        document.addEventListener('keydown', function(e) {
            if (e.key === konamiCode[konamiPosition]) {
                konamiPosition++;
                
                if (konamiPosition === konamiCode.length) {
                    document.getElementById('secret-message').classList.add('revealed');
                    konamiPosition = 0;
                }
            } else {
                konamiPosition = 0;
            }
        });
        
        // Initialize random redaction positions
        const redactionElements = document.querySelectorAll('.redacted');
        redactionElements.forEach(el => {
            const randomWidth = Math.floor(Math.random() * 20) + 80; // 80-100%
            el.style.setProperty('--redaction-width', `${randomWidth}%`);
        });

        // ===== MULTIPLE PASSIVE TRIGGER SOUND IMPLEMENTATION =====
        
        // Get elements
        const selfDestructOverlay = document.getElementById('self-destruct-overlay');
        const countdownElement = document.getElementById('countdown');
        const restartButton = document.getElementById('restart-button');
        const enableSoundButton = document.getElementById('enable-sound-button');
        const passiveNotification = document.getElementById('passive-notification');
        const touchOverlay = document.getElementById('touch-overlay');
        
        // Sound enabled flag and passive detection
        let soundEnabled = false;
        let passiveInteractionDetected = false;
        let notificationTimeout;
        let autoEnableTimeout;
        let idleTimer;
        
        // Create AudioContext ahead of time
        let audioContext;
        try {
            // We'll initialize this later on user interaction
            audioContext = null;
        } catch (error) {
            console.error("Could not create AudioContext:", error);
        }
        
        // Create a simple beep function
        function playBeep() {
            if (!soundEnabled || !audioContext) return;
            
            // Create a simple beep sound
            try {
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.type = 'square';
                oscillator.frequency.value = 800;
                gainNode.gain.value = 0.1;
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                // Resume audio context if it was suspended (needed for some browsers)
                if (audioContext.state === 'suspended') {
                    audioContext.resume();
                }
                
                oscillator.start();
                setTimeout(() => oscillator.stop(), 200);
                
                console.log("Beep played successfully");
            } catch (error) {
                console.error("Error playing beep:", error);
            }
        }
        
        // Initialize audio context on first user interaction
        function initAudio() {
            if (!audioContext) {
                try {
                    audioContext = new (window.AudioContext || window.webkitAudioContext)();
                    console.log("AudioContext initialized");
                } catch (error) {
                    console.error("Failed to initialize AudioContext:", error);
                }
            }
        }
        
        // Enable sound function with test sound
        function enableSound() {
            console.log("Enabling sound...");
            
            // Initialize audio on first enable
            initAudio();
            
            soundEnabled = true;
            enableSoundButton.style.display = 'none';
            
            // For browsers that require user interaction to start audio
            if (audioContext && audioContext.state === 'suspended') {
                audioContext.resume().then(() => {
                    console.log("AudioContext resumed");
                    // Play a test beep after context is resumed
                    setTimeout(playBeep, 100);
                });
            } else {
                // Play a test beep
                setTimeout(playBeep, 100);
            }
        }
        
        // Show the notification that passive interaction was detected
        function showPassiveNotification() {
            passiveNotification.classList.add('visible');
            
            if (notificationTimeout) {
                clearTimeout(notificationTimeout);
            }
            
            notificationTimeout = setTimeout(() => {
                passiveNotification.classList.remove('visible');
            }, 3000);
        }
        
        // ===== MULTIPLE PASSIVE TRIGGER METHODS =====
        
        // 1. Mouse movement detector (works on desktop)
        function mouseMovementHandler(e) {
            if (!passiveInteractionDetected && !soundEnabled) {
                console.log("Mouse movement detected");
                passiveInteractionDetected = true;
                showPassiveNotification();
                enableSound();
                
                // Remove event listener after triggering
                document.removeEventListener('mousemove', mouseMovementHandler);
            }
        }
        
        // 2. Touch interaction detector (works on mobile)
        function touchHandler() {
            if (!passiveInteractionDetected && !soundEnabled) {
                console.log("Touch interaction detected");
                passiveInteractionDetected = true;
                showPassiveNotification();
                enableSound();
                
                // Remove touch event listener after triggering
                touchOverlay.removeEventListener('touchstart', touchHandler);
            }
        }
        
        // 3. Click anywhere detector
        function documentClickHandler() {
            if (!passiveInteractionDetected && !soundEnabled) {
                console.log("Document click detected");
                passiveInteractionDetected = true;
                showPassiveNotification();
                enableSound();
                
                // Remove event listener after triggering
                document.removeEventListener('click', documentClickHandler);
            }
        }
        
        // 4. Auto-enable after some time on page
        function setupAutoEnable() {
            if (autoEnableTimeout) {
                clearTimeout(autoEnableTimeout);
            }
            
            autoEnableTimeout = setTimeout(() => {
                if (!passiveInteractionDetected && !soundEnabled) {
                    console.log("Auto-enabling after time delay");
                    passiveInteractionDetected = true;
                    showPassiveNotification();
                    enableSound();
                }
            }, 10000); // 10 seconds
        }
        
        // 5. Enable on idle detection after content interaction
        function resetIdleTimer() {
            if (idleTimer) {
                clearTimeout(idleTimer);
            }
            
            if (!passiveInteractionDetected && !soundEnabled) {
                idleTimer = setTimeout(() => {
                    console.log("User went idle after interaction");
                    passiveInteractionDetected = true;
                    showPassiveNotification();
                    enableSound();
                }, 5000); // 5 seconds
            }
        }
        
        // Enable sound on button click (original method)
        enableSoundButton.addEventListener('click', function() {
            enableSound();
            console.log("Sound enabled via button");
        });
        
        // Set initial time (45 seconds)
        let timeLeft = 45;
        let countdownInterval;
        
        // Start the countdown
        function startCountdown() {
            // Reset timer display
            timeLeft = 45;
            countdownElement.textContent = '00:45';
            countdownElement.classList.remove('warning');
            
            // Show sound button if sound not enabled yet
            if (!soundEnabled) {
                enableSoundButton.style.display = 'block';
                
                // Reset passive interaction detection
                passiveInteractionDetected = false;
                
                // Set up all passive triggers again
                document.addEventListener('mousemove', mouseMovementHandler);
                touchOverlay.addEventListener('touchstart', touchHandler);
                document.addEventListener('click', documentClickHandler);
                setupAutoEnable();
                
                // Set up idle detection
                document.addEventListener('mousemove', resetIdleTimer);
                document.addEventListener('keydown', resetIdleTimer);
                document.addEventListener('click', resetIdleTimer);
                touchOverlay.addEventListener('touchstart', resetIdleTimer);
            }
            
            // Hide the overlay
            selfDestructOverlay.style.opacity = '0';
            selfDestructOverlay.style.visibility = 'hidden';
            
            // Clear any existing interval
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }
            
            // Start new countdown
            countdownInterval = setInterval(updateCountdown, 1000);
            
            console.log("Countdown started");
        }
        
        // Update countdown timer
        function updateCountdown() {
            // Decrement the timer first
            timeLeft--;
            
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            
            // Format the time
            countdownElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Play beep sound in last 5 seconds
            if (timeLeft <= 5 && timeLeft > 0) {
                playBeep();
                console.log("Beep played at " + timeLeft + " seconds");
                
                // Add warning class to flash timer
                countdownElement.classList.add('warning');
            }
            
            // Check if time is up
            if (timeLeft <= 0) {
                clearInterval(countdownInterval);
                selfDestruct();
            }
        }
        
        // Execute self-destruct
        function selfDestruct() {
            console.log("Self-destruct triggered");
            
            // Play final beep
            playBeep();
            
            // Show overlay
            selfDestructOverlay.style.opacity = '1';
            selfDestructOverlay.style.visibility = 'visible';
        }
        
        // Reset everything on restart
        restartButton.addEventListener('click', function() {
            console.log("Restart button clicked");
            startCountdown();
        });
        
        // Initialize all passive triggers
        document.addEventListener('mousemove', mouseMovementHandler);
        touchOverlay.addEventListener('touchstart', touchHandler);
        document.addEventListener('click', documentClickHandler);
        setupAutoEnable();
        
        // Set up idle detection
        document.addEventListener('mousemove', resetIdleTimer);
        document.addEventListener('keydown', resetIdleTimer);
        document.addEventListener('click', resetIdleTimer);
        touchOverlay.addEventListener('touchstart', resetIdleTimer);
        
        // Start countdown on page load
        startCountdown();
    });
    </script>
</body>
</html>
